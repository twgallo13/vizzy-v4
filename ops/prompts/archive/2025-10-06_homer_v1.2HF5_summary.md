# HOMER v1.2HF5 â€” CI fix for Slack + job guards

## What changed

- Job-level `if:` now only uses `github.*` (staging on `main` non-PR; production on tags).
- Secrets are mapped to `env:` at the job level.
- Deploy and Slack steps are gated with step-level `if:` using `env.*`.
- Slack notifications use curl and only run if `SLACK_WEBHOOK` is set.

## Why

- VS Code/GitHub Actions linter threw "Unrecognized named-value: env/secrets" when used in job-level `if:`.

## Result

- Lint passes, deploy jobs skip cleanly if required env isn't present, and Slack only fires when configured.